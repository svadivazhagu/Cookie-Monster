
<!DOCTYPE <!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta author="Surya Vadivazhagu & Daniel McDonough">
    <meta description="a5-final project">
    <title>Cookie Monster</title>
    <style>
    #heatmapContainerWrapper { width:100%; height:100%; position:absolute;  }
    #heatmapContainer { width:100vw; height:100vh; }
    </style>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" type="image/png" href="http://cookiesandcalligraphy.com/wp-content/uploads/2017/01/CandC-Favicon.png"/>
    <link rel="stylesheet" type="text/css" media="screen" href="css/style.css" />
</head>
<body id="monster_container">
  <div id="heatmapContainerWrapper">
    <div id="heatmapContainer">

    </div>

  </div>
<h1>Cookie Monster</h1>
<p>Check out the Console to see values.</p>


<script src="js/heatmap.min.js"></script>

<!--Script for  -->
<script>
  function getvalue(json,x,y){
    var hasMatch =false;
    var xy= x+","+y;
    for (var index = 0; index < mousedata.length; ++index) {

     var coords = mousedata[index];

     if(coords.xy == xy){
       return coords.xy = value;
       break;
     }
    }
    return 0;
  }

  var mousedata= []; // x,y : value
  window.onload = function() {
    //create a heatmap instance
    var heatmap = h337.create({
      container: document.getElementById('monster_container'),
      maxOpacity: 0,
      minOpacity:0,
      gradient: { },
      radius: 10,
      blur: 0.9,
      // backgroundColor with alpha so you can see through it
      //backgroundColor: 'rgba(0, 0, 58, 1)'
    });
    var heatmapContainer = document.getElementById('heatmapContainerWrapper');

    heatmapContainer.onmousemove = heatmapContainer.ontouchmove = function(e) {
      // we need preventDefault for the touchmove
      e.preventDefault();
      var x = e.layerX+document.body.scrollLeft;
      var y = e.layerY+document.body.scrollTop;
      if (e.touches) {
        x = e.touches[0].pageX+document.body.scrollLeft;
        y = e.touches[0].pageY+document.body.scrollTop;
      }

      heatmap.addData({ x: x, y: y, value: 1 });
      mousedata.push({"xy":x+","+y,value:1+getvalue()});
      console.log(heatmap.getData());
    };

    heatmapContainer.onclick = function(e) {
      var x = e.layerX;
      var y = e.layerY;
      //heatmap.addData({ x: x, y: y, value: 10 });
    };
    var y = document.getElementsByClassName('heatmap-canvas');
    for(var i =0, il = y.length;i<il;i++){
       y[i].style.display = "none";
    }

  };
</script>

</body>
<script src="/js/scripts.js"></script>

</html>
